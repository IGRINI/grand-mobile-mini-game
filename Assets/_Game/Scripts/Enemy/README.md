# Система врагов

## Обзор
Система врагов реализована по принципам SOLID, DRY, KISS и следует архитектуре проекта с использованием Zenject для DI.

## Основные компоненты

### 1. Данные (Data)
- `EnemyData` - ScriptableObject с настройками врага (здоровье, скорость, урон, дальность атаки)

### 2. Модель (Model)
- `Enemy` - POCO класс, представляющий врага
- Методы: `TakeDamage()`, `Heal()`, свойства для доступа к данным

### 3. Сервис (Service)
- `IEnemyService` - интерфейс управления врагами
- `EnemyService` - реализация сервиса
- Функции: спавн, деспавн, нанесение урона, поиск ближайшего врага

### 4. Представление (View)
- `IEnemyView` - интерфейс отображения врага
- `EnemyView` - MonoBehaviour компонент для отображения врага с полоской здоровья

### 5. Поведение (Behavior)
- `IEnemyBehavior` - интерфейс поведения врага
- `FollowPlayerBehavior` - базовое поведение следования за игроком

### 6. Спавнер
- `EnemySpawner` - автоматический спавн врагов вокруг игрока
- `EnemyTestController` - тестовый контроллер для ручного спавна

### 7. DI
- `EnemyInstaller` - MonoInstaller для регистрации зависимостей

## Интеграция с оружием
- Снаряды (`Projectile`) автоматически наносят урон врагам при столкновении
- Оружие (`WeaponController`) автоматически нацеливается на ближайшего врага

## Принципы реализации
- ✅ Никаких `GameObject.Find`
- ✅ Использование `sqrMagnitude` вместо `Vector3.Distance`
- ✅ Dependency Injection через Zenject
- ✅ Разделение ответственности (MVC)
- ✅ Интерфейсы для всех сервисов
- ✅ ScriptableObject для данных

## Настройка
1. Создать `EnemyData` через меню "Game/Enemy Data"
2. Добавить `EnemyInstaller` на сцену и привязать массив `EnemyData`
3. Добавить `EnemySpawner` для автоспавна или `EnemyTestController` для тестов
4. Настроить префабы врагов с компонентом `EnemyView` 